{"ast":null,"code":"import _slicedToArray from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useContext,useEffect,useState}from\"react\";import Header from\"../components/Header\";import{userContext}from\"../store/userStore\";import FilterAddBar from\"../components/FilterAddBar\";import\"./Profile.css\";import InvoiceCard from\"../components/UI/Invoice-Card/InvoiceCard\";import InvoiceModal from\"../components/UI/Modals/New-Invoice-Modal/InvoiceModal\";import getUserInvoices from\"../api/getInvoices\";import illustration_empty from\"../assets/illustration_empty.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Profile(){var _useContext=useContext(userContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),noInvoices=_useState2[0],setNoInvoices=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),invoiceListState=_useState6[0],setInvoiceListState=_useState6[1];//Grabbing the signed in user's invoices from the server and DB\nuseEffect(function(){if(state.user){var allInvoices=getUserInvoices();allInvoices.then(function(res){if(res&&res.userInvoices&&res.userInvoices.length>0){dispatch({type:\"USERS_INVOICES\",value:res.userInvoices});dispatch({type:\"NUM_OF_INVOICES\",value:res.userInvoices.length});setNoInvoices(false);setInvoiceListState(res.userInvoices.map(function(invoice,index){return/*#__PURE__*/_jsx(InvoiceCard,{classes:index%2===0?\"left\":\"right\",number:invoice.id,invoiceStatus:invoice.is_paid,dueDate:invoice.payment_date,total:invoice.subtotal,clientName:invoice.client_name},index);}));}else{setNoInvoices(true);}});}setLoading(false);},[state.modalToDisplay]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[state.modalToDisplay&&/*#__PURE__*/_jsx(InvoiceModal,{}),/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(FilterAddBar,{loading:loading}),noInvoices?/*#__PURE__*/_jsxs(\"div\",{className:\"image-wrapper\",children:[/*#__PURE__*/_jsx(\"img\",{src:illustration_empty,alt:\"no invoices image\"}),/*#__PURE__*/_jsx(\"p\",{className:\"nothing-here\",children:\"There is nothing here\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"instructions\",children:[\"Create a new invoice by clicking the\",\" \",/*#__PURE__*/_jsx(\"span\",{id:\"new-invoice-text\",children:\"\\xA0New Invoice\"}),\"\\xA0button and get started\"]})]}):invoiceListState?invoiceListState:\"Loading...\"]});}export default Profile;","map":{"version":3,"sources":["/Users/therealstephen/personal-projects/iou-tracker-client/src/pages/Profile.js"],"names":["React","useContext","useEffect","useState","Header","userContext","FilterAddBar","InvoiceCard","InvoiceModal","getUserInvoices","Profile","state","dispatch","noInvoices","setNoInvoices","loading","setLoading","invoiceListState","setInvoiceListState","user","allInvoices","then","res","userInvoices","length","type","value","map","invoice","index","id","is_paid","payment_date","subtotal","client_name","modalToDisplay","illustration_empty"],"mappings":"6IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,QAAhC,KAAgD,OAAhD,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,OAASC,WAAT,KAA4B,oBAA5B,CACA,MAAOC,CAAAA,YAAP,KAAyB,4BAAzB,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,2CAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,wDAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,oBAA5B,C,yJAGA,QAASC,CAAAA,OAAT,EAAmB,CACjB,gBAA4BT,UAAU,CAACI,WAAD,CAAtC,CAAQM,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CACA,cAAoCT,QAAQ,CAAC,IAAD,CAA5C,wCAAOU,UAAP,eAAmBC,aAAnB,eACA,eAA8BX,QAAQ,CAAC,IAAD,CAAtC,yCAAOY,OAAP,eAAgBC,UAAhB,eACA,eAAgDb,QAAQ,CAAC,EAAD,CAAxD,yCAAOc,gBAAP,eAAyBC,mBAAzB,eAEA;AACAhB,SAAS,CAAC,UAAM,CACd,GAAIS,KAAK,CAACQ,IAAV,CAAgB,CACd,GAAMC,CAAAA,WAAW,CAAGX,eAAe,EAAnC,CACAW,WAAW,CAACC,IAAZ,CAAiB,SAACC,GAAD,CAAS,CACxB,GAAIA,GAAG,EAAIA,GAAG,CAACC,YAAX,EAA2BD,GAAG,CAACC,YAAJ,CAAiBC,MAAjB,CAA0B,CAAzD,CAA4D,CAC1DZ,QAAQ,CAAC,CAAEa,IAAI,CAAE,gBAAR,CAA0BC,KAAK,CAAEJ,GAAG,CAACC,YAArC,CAAD,CAAR,CACAX,QAAQ,CAAC,CAAEa,IAAI,CAAE,iBAAR,CAA2BC,KAAK,CAAEJ,GAAG,CAACC,YAAJ,CAAiBC,MAAnD,CAAD,CAAR,CACAV,aAAa,CAAC,KAAD,CAAb,CACAI,mBAAmB,CACjBI,GAAG,CAACC,YAAJ,CAAiBI,GAAjB,CAAqB,SAACC,OAAD,CAAUC,KAAV,CAAoB,CACvC,mBACE,KAAC,WAAD,EAEE,OAAO,CAAEA,KAAK,CAAG,CAAR,GAAc,CAAd,CAAkB,MAAlB,CAA2B,OAFtC,CAGE,MAAM,CAAED,OAAO,CAACE,EAHlB,CAIE,aAAa,CAAEF,OAAO,CAACG,OAJzB,CAKE,OAAO,CAAEH,OAAO,CAACI,YALnB,CAME,KAAK,CAAEJ,OAAO,CAACK,QANjB,CAOE,UAAU,CAAEL,OAAO,CAACM,WAPtB,EACOL,KADP,CADF,CAWD,CAZD,CADiB,CAAnB,CAeD,CAnBD,IAmBO,CACLf,aAAa,CAAC,IAAD,CAAb,CACD,CACF,CAvBD,EAwBD,CACDE,UAAU,CAAC,KAAD,CAAV,CACD,CA7BQ,CA6BN,CAACL,KAAK,CAACwB,cAAP,CA7BM,CAAT,CA+BA,mBACE,aAAK,SAAS,CAAC,mBAAf,WACGxB,KAAK,CAACwB,cAAN,eAAwB,KAAC,YAAD,IAD3B,cAEE,KAAC,MAAD,IAFF,cAGE,KAAC,YAAD,EAAc,OAAO,CAAEpB,OAAvB,EAHF,CAIGF,UAAU,cACT,aAAK,SAAS,CAAC,eAAf,wBACE,YAAK,GAAG,CAAEuB,kBAAV,CAA8B,GAAG,CAAC,mBAAlC,EADF,cAEE,UAAG,SAAS,CAAC,cAAb,mCAFF,cAGE,WAAG,SAAS,CAAC,cAAb,kDACuC,GADvC,cAEE,aAAM,EAAE,CAAC,kBAAT,6BAFF,gCAHF,GADS,CAUPnB,gBAAgB,CAClBA,gBADkB,CAGlB,YAjBJ,GADF,CAsBD,CAED,cAAeP,CAAAA,OAAf","sourcesContent":["import React from \"react\";\nimport { useContext, useEffect, useState } from \"react\";\nimport Header from \"../components/Header\";\nimport { userContext } from \"../store/userStore\";\nimport FilterAddBar from \"../components/FilterAddBar\";\nimport \"./Profile.css\";\nimport InvoiceCard from \"../components/UI/Invoice-Card/InvoiceCard\";\nimport InvoiceModal from \"../components/UI/Modals/New-Invoice-Modal/InvoiceModal\";\nimport getUserInvoices from \"../api/getInvoices\";\nimport illustration_empty from \"../assets/illustration_empty.svg\";\n\nfunction Profile() {\n  const { state, dispatch } = useContext(userContext);\n  const [noInvoices, setNoInvoices] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [invoiceListState, setInvoiceListState] = useState([]);\n\n  //Grabbing the signed in user's invoices from the server and DB\n  useEffect(() => {\n    if (state.user) {\n      const allInvoices = getUserInvoices();\n      allInvoices.then((res) => {\n        if (res && res.userInvoices && res.userInvoices.length > 0) {\n          dispatch({ type: \"USERS_INVOICES\", value: res.userInvoices });\n          dispatch({ type: \"NUM_OF_INVOICES\", value: res.userInvoices.length });\n          setNoInvoices(false);\n          setInvoiceListState(\n            res.userInvoices.map((invoice, index) => {\n              return (\n                <InvoiceCard\n                  key={index}\n                  classes={index % 2 === 0 ? \"left\" : \"right\"}\n                  number={invoice.id}\n                  invoiceStatus={invoice.is_paid}\n                  dueDate={invoice.payment_date}\n                  total={invoice.subtotal}\n                  clientName={invoice.client_name}\n                />\n              );\n            })\n          );\n        } else {\n          setNoInvoices(true);\n        }\n      });\n    }\n    setLoading(false);\n  }, [state.modalToDisplay]);\n\n  return (\n    <div className=\"profile-container\">\n      {state.modalToDisplay && <InvoiceModal />}\n      <Header />\n      <FilterAddBar loading={loading} />\n      {noInvoices ? (\n        <div className=\"image-wrapper\">\n          <img src={illustration_empty} alt=\"no invoices image\" />\n          <p className=\"nothing-here\">There is nothing here</p>\n          <p className=\"instructions\">\n            Create a new invoice by clicking the{\" \"}\n            <span id=\"new-invoice-text\">&nbsp;New Invoice</span>&nbsp;button and\n            get started\n          </p>\n        </div>\n      ) : invoiceListState ? (\n        invoiceListState\n      ) : (\n        \"Loading...\"\n      )}\n    </div>\n  );\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}