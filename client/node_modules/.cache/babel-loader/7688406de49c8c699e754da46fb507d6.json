{"ast":null,"code":"import _regeneratorRuntime from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer,useEffect,useContext,useState}from\"react\";import{useNavigate}from\"react-router\";import{userContext}from\"../store/userStore\";import LoginButton from\"./UI/LoginButton\";import LoginInput from\"../components/LoginInput\";import getUserInfoOnLogin from\"../api/getUser\";import createNewUser from\"../api/createUser\";import Loader from\"./UI/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoginFormContainer=function LoginFormContainer(_ref){var loginIsActive=_ref.loginIsActive,setLoginIsActive=_ref.setLoginIsActive;var _useContext=useContext(userContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),loginNotSuccessful=_useState4[0],setLoginNotSuccessful=_useState4[1];var navigate=useNavigate();//Login form state\nvar initialValues={firstName:\"\",firstNameError:false,lastName:\"\",lastNameError:false,emailAddress:\"\",emailAddressError:false,password:\"\",passwordError:false,confirmPassword:\"\",confirmPasswordError:false};var _useReducer=useReducer(function(curVals,newVals){return _objectSpread(_objectSpread({},curVals),newVals);},initialValues),_useReducer2=_slicedToArray(_useReducer,2),formValues=_useReducer2[0],setFormValues=_useReducer2[1];var firstName=formValues.firstName,firstNameError=formValues.firstNameError,lastName=formValues.lastName,lastNameError=formValues.lastNameError,emailAddress=formValues.emailAddress,emailAddressError=formValues.emailAddressError,password=formValues.password,passwordError=formValues.passwordError,confirmPassword=formValues.confirmPassword,confirmPasswordError=formValues.confirmPasswordError;//Resets the form when user toggles between login and sign up so fields are blank\nfunction resetForm(){setFormValues({firstName:\"\",firstNameError:false,lastName:\"\",lastNameError:false,emailAddress:\"\",emailAddressError:false,password:\"\",passwordError:false,confirmPassword:\"\",confirmPasswordError:false});}//Calls the reset function each time the user clicks on Login or Sign up\nuseEffect(function(){resetForm();setLoginNotSuccessful(null);},[loginIsActive]);//Logic for form state and error state\nfunction handleFormChange(e){setLoginNotSuccessful(null);var _e$target=e.target,name=_e$target.name,value=_e$target.value;setFormValues(_defineProperty({},name,value));if(name===\"emailAddress\"){setFormValues({emailAddressError:false});}if(name===\"password\"){setFormValues({passwordError:false});}if(name===\"confirmPassword\"&&!confirmPassword!==password){setFormValues({confirmPasswordError:false});}if(name===\"firstName\"){setFormValues({firstNameError:false});}if(name===\"lastName\"){setFormValues({lastNameError:false});}}//Determines if fields were correctly filled out\nfunction submitHandler(_x){return _submitHandler.apply(this,arguments);}function _submitHandler(){_submitHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var isLoginError,signUpError,userInfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();isLoginError=false;signUpError=false;if(!emailAddress.includes(\"@\")){setFormValues({emailAddressError:true});isLoginError=true;}if(password.length<6){setFormValues({passwordError:true});isLoginError=true;}if(firstName.length===0){setFormValues({firstNameError:true});signUpError=true;}if(lastName.length===0){setFormValues({lastNameError:true});signUpError=true;}if(confirmPassword!==password){setFormValues({confirmPasswordError:true});signUpError=true;}if(!(!isLoginError&&loginIsActive)){_context.next=16;break;}setIsLoading(true);_context.next=12;return getUserInfoOnLogin(emailAddress,password);case 12:userInfo=_context.sent;if(userInfo){dispatch({type:\"USER_LOGGED_IN\",value:userInfo});navigate(\"/profile\");}else{setLoginNotSuccessful(true);setIsLoading(false);}_context.next=23;break;case 16:if(!(!signUpError&&!loginIsActive)){_context.next=23;break;}setIsLoading(true);_context.next=20;return createNewUser(firstName,lastName,emailAddress,password);case 20:dispatch({type:\"USER_CREATED\"});setIsLoading(false);setLoginIsActive(true);case 23:case\"end\":return _context.stop();}}},_callee);}));return _submitHandler.apply(this,arguments);}return/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[!loginIsActive&&/*#__PURE__*/_jsx(LoginInput,{type:\"text\",name:\"firstName\",placeholder:\"First Name\",value:firstName,onChange:handleFormChange,classes:firstNameError?\"input error\":\"input\"}),firstNameError&&!loginIsActive&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Name field required\"}),!loginIsActive&&/*#__PURE__*/_jsx(LoginInput,{type:\"text\",placeholder:\"Last Name\",name:\"lastName\",value:lastName,onChange:handleFormChange,classes:firstNameError?\"input error\":\"input\"}),lastNameError&&!loginIsActive&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Name field required\"}),/*#__PURE__*/_jsx(LoginInput,{type:\"text\",placeholder:\"Email Address\",name:\"emailAddress\",value:emailAddress,onChange:handleFormChange,classes:emailAddressError?\"input error\":\"input\"}),emailAddressError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Valid email required\"}),/*#__PURE__*/_jsx(LoginInput,{type:\"password\",placeholder:\"Password\",name:\"password\",value:password,onChange:handleFormChange,classes:passwordError?\"input error\":\"input\"}),passwordError&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Password length must be at least 6 characters\"}),!loginIsActive&&/*#__PURE__*/_jsx(LoginInput,{type:\"password\",placeholder:\"Confirm Password\",name:\"confirmPassword\",value:confirmPassword,onChange:handleFormChange,classes:confirmPasswordError?\"input error\":\"input\"}),confirmPasswordError&&!loginIsActive&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Passwords must match\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"big-btn\",children:[/*#__PURE__*/_jsxs(LoginButton,{classes:\"active\",children:[loginIsActive?\"Login\":\"Signup\",\" \",isLoading&&/*#__PURE__*/_jsx(Loader,{})]}),loginNotSuccessful&&loginIsActive&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Error: email or password incorrect\"})]})]});};export default LoginFormContainer;","map":{"version":3,"sources":["/Users/therealstephen/personal-projects/iou-tracker-client/src/components/LoginFormContainer.js"],"names":["React","useReducer","useEffect","useContext","useState","useNavigate","userContext","LoginButton","LoginInput","getUserInfoOnLogin","createNewUser","Loader","LoginFormContainer","loginIsActive","setLoginIsActive","state","dispatch","isLoading","setIsLoading","loginNotSuccessful","setLoginNotSuccessful","navigate","initialValues","firstName","firstNameError","lastName","lastNameError","emailAddress","emailAddressError","password","passwordError","confirmPassword","confirmPasswordError","curVals","newVals","formValues","setFormValues","resetForm","handleFormChange","e","target","name","value","submitHandler","preventDefault","isLoginError","signUpError","includes","length","userInfo","type"],"mappings":"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","sourcesContent":["import React, { useReducer, useEffect, useContext, useState } from \"react\";\nimport { useNavigate } from \"react-router\";\nimport { userContext } from \"../store/userStore\";\n\nimport LoginButton from \"./UI/LoginButton\";\nimport LoginInput from \"../components/LoginInput\";\n\nimport getUserInfoOnLogin from \"../api/getUser\";\nimport createNewUser from \"../api/createUser\";\nimport Loader from \"./UI/Loader\";\n\nconst LoginFormContainer = ({ loginIsActive, setLoginIsActive }) => {\n  const { state, dispatch } = useContext(userContext);\n  const [isLoading, setIsLoading] = useState(false);\n  const [loginNotSuccessful, setLoginNotSuccessful] = useState(null);\n  const navigate = useNavigate();\n\n  //Login form state\n  const initialValues = {\n    firstName: \"\",\n    firstNameError: false,\n    lastName: \"\",\n    lastNameError: false,\n    emailAddress: \"\",\n    emailAddressError: false,\n    password: \"\",\n    passwordError: false,\n    confirmPassword: \"\",\n    confirmPasswordError: false,\n  };\n\n  const [formValues, setFormValues] = useReducer(\n    (curVals, newVals) => ({ ...curVals, ...newVals }),\n    initialValues\n  );\n\n  const {\n    firstName,\n    firstNameError,\n    lastName,\n    lastNameError,\n    emailAddress,\n    emailAddressError,\n    password,\n    passwordError,\n    confirmPassword,\n    confirmPasswordError,\n  } = formValues;\n\n  //Resets the form when user toggles between login and sign up so fields are blank\n  function resetForm() {\n    setFormValues({\n      firstName: \"\",\n      firstNameError: false,\n      lastName: \"\",\n      lastNameError: false,\n      emailAddress: \"\",\n      emailAddressError: false,\n      password: \"\",\n      passwordError: false,\n      confirmPassword: \"\",\n      confirmPasswordError: false,\n    });\n  }\n\n  //Calls the reset function each time the user clicks on Login or Sign up\n  useEffect(() => {\n    resetForm();\n    setLoginNotSuccessful(null);\n  }, [loginIsActive]);\n\n  //Logic for form state and error state\n  function handleFormChange(e) {\n    setLoginNotSuccessful(null);\n    const { name, value } = e.target;\n    setFormValues({ [name]: value });\n\n    if (name === \"emailAddress\") {\n      setFormValues({ emailAddressError: false });\n    }\n    if (name === \"password\") {\n      setFormValues({ passwordError: false });\n    }\n    if (name === \"confirmPassword\" && !confirmPassword !== password) {\n      setFormValues({ confirmPasswordError: false });\n    }\n    if (name === \"firstName\") {\n      setFormValues({ firstNameError: false });\n    }\n    if (name === \"lastName\") {\n      setFormValues({ lastNameError: false });\n    }\n  }\n\n  //Determines if fields were correctly filled out\n  async function submitHandler(e) {\n    e.preventDefault();\n    let isLoginError = false;\n    let signUpError = false;\n\n    if (!emailAddress.includes(\"@\")) {\n      setFormValues({ emailAddressError: true });\n      isLoginError = true;\n    }\n    if (password.length < 6) {\n      setFormValues({ passwordError: true });\n      isLoginError = true;\n    }\n    if (firstName.length === 0) {\n      setFormValues({ firstNameError: true });\n      signUpError = true;\n    }\n    if (lastName.length === 0) {\n      setFormValues({ lastNameError: true });\n      signUpError = true;\n    }\n    if (confirmPassword !== password) {\n      setFormValues({ confirmPasswordError: true });\n      signUpError = true;\n    }\n\n    if (!isLoginError && loginIsActive) {\n      setIsLoading(true);\n      const userInfo = await getUserInfoOnLogin(emailAddress, password);\n\n      if (userInfo) {\n        dispatch({\n          type: \"USER_LOGGED_IN\",\n          value: userInfo,\n        });\n        navigate(\"/profile\");\n      } else {\n        setLoginNotSuccessful(true);\n        setIsLoading(false);\n      }\n    } else if (!signUpError && !loginIsActive) {\n      setIsLoading(true);\n      await createNewUser(firstName, lastName, emailAddress, password);\n      dispatch({\n        type: \"USER_CREATED\",\n      });\n      setIsLoading(false);\n      setLoginIsActive(true);\n    }\n  }\n\n  return (\n    <form onSubmit={submitHandler}>\n      {!loginIsActive && (\n        <LoginInput\n          type={\"text\"}\n          name={\"firstName\"}\n          placeholder={\"First Name\"}\n          value={firstName}\n          onChange={handleFormChange}\n          classes={firstNameError ? \"input error\" : \"input\"}\n        />\n      )}\n      {firstNameError && !loginIsActive && (\n        <p className=\"error-message\">Name field required</p>\n      )}\n      {!loginIsActive && (\n        <LoginInput\n          type={\"text\"}\n          placeholder={\"Last Name\"}\n          name={\"lastName\"}\n          value={lastName}\n          onChange={handleFormChange}\n          classes={firstNameError ? \"input error\" : \"input\"}\n        />\n      )}\n      {lastNameError && !loginIsActive && (\n        <p className=\"error-message\">Name field required</p>\n      )}\n\n      <LoginInput\n        type={\"text\"}\n        placeholder={\"Email Address\"}\n        name={\"emailAddress\"}\n        value={emailAddress}\n        onChange={handleFormChange}\n        classes={emailAddressError ? \"input error\" : \"input\"}\n      />\n      {emailAddressError && (\n        <p className=\"error-message\">Valid email required</p>\n      )}\n      <LoginInput\n        type={\"password\"}\n        placeholder={\"Password\"}\n        name={\"password\"}\n        value={password}\n        onChange={handleFormChange}\n        classes={passwordError ? \"input error\" : \"input\"}\n      />\n      {passwordError && (\n        <p className=\"error-message\">\n          Password length must be at least 6 characters\n        </p>\n      )}\n      {!loginIsActive && (\n        <LoginInput\n          type={\"password\"}\n          placeholder={\"Confirm Password\"}\n          name={\"confirmPassword\"}\n          value={confirmPassword}\n          onChange={handleFormChange}\n          classes={confirmPasswordError ? \"input error\" : \"input\"}\n        />\n      )}\n      {confirmPasswordError && !loginIsActive && (\n        <p className=\"error-message\">Passwords must match</p>\n      )}\n\n      <div className=\"big-btn\">\n        <LoginButton classes={\"active\"}>\n          {loginIsActive ? \"Login\" : \"Signup\"} {isLoading && <Loader />}\n        </LoginButton>\n        {loginNotSuccessful && loginIsActive && (\n          <p className=\"error-message\">Error: email or password incorrect</p>\n        )}\n      </div>\n    </form>\n  );\n};\n\nexport default LoginFormContainer;\n"]},"metadata":{},"sourceType":"module"}