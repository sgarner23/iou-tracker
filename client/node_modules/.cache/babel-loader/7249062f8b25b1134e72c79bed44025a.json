{"ast":null,"code":"import _regeneratorRuntime from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useContext}from\"react\";import{invoiceContext}from\"../../../store/invoiceStore\";import{userContext}from\"../../../store/userStore\";import{useNavigate}from\"react-router\";import LoginButton from\"../LoginButton\";import invoiceDelete from\"../../../api/deleteInvoice\";import\"./DeleteModal.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeleteModal(selectedInvoiceID){var _useContext=useContext(userContext),state=_useContext.state,dispatch=_useContext.dispatch;var _useContext2=useContext(invoiceContext),invoiceState=_useContext2.invoiceState,updateInvoice=_useContext2.updateInvoice;var navigate=useNavigate();function cancelHandler(){dispatch({type:\"CLOSE_MODAL\"});}function deleteHandler(){return _deleteHandler.apply(this,arguments);}function _deleteHandler(){_deleteHandler=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var deletedInvoice;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return invoiceDelete(selectedInvoiceID.selectedInvoiceID);case 2:deletedInvoice=_context.sent;//Modal closed and user redirected to their profile once api call is finished\nif(deletedInvoice){dispatch({type:\"CLOSE_MODAL\"});navigate(\"/profile\");updateInvoice({type:\"RESET\"});}case 4:case\"end\":return _context.stop();}}},_callee);}));return _deleteHandler.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{className:\"invoice-overlay\",children:/*#__PURE__*/_jsx(\"div\",{className:\"delete-invoice-card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"delete-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"confirm-header\",children:\"Confirm Deletion\"}),/*#__PURE__*/_jsx(\"p\",{className:\"confirm-message\",children:\"Are you sure you want to delete invoice #IOU\".concat(selectedInvoiceID.selectedInvoiceID,\"? This action cannot be undone.\")}),/*#__PURE__*/_jsxs(\"div\",{className:\"button-container\",children:[/*#__PURE__*/_jsx(LoginButton,{onClick:cancelHandler,classes:\"invoice-footer-btn discard\",children:\"Cancel\"}),/*#__PURE__*/_jsx(LoginButton,{onClick:deleteHandler,classes:\"invoice-footer-btn draft delete\",children:\"Delete\"})]})]})})});}export default DeleteModal;","map":{"version":3,"sources":["/Users/therealstephen/personal-projects/iou-tracker-client/src/components/UI/Modals/DeleteModal.js"],"names":["React","useContext","invoiceContext","userContext","useNavigate","LoginButton","invoiceDelete","DeleteModal","selectedInvoiceID","state","dispatch","invoiceState","updateInvoice","navigate","cancelHandler","type","deleteHandler","deletedInvoice"],"mappings":"uRAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,OAASC,cAAT,KAA+B,6BAA/B,CACA,OAASC,WAAT,KAA4B,0BAA5B,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,4BAA1B,CACA,MAAO,mBAAP,C,wFAEA,QAASC,CAAAA,WAAT,CAAqBC,iBAArB,CAAwC,CACtC,gBAA4BP,UAAU,CAACE,WAAD,CAAtC,CAAQM,KAAR,aAAQA,KAAR,CAAeC,QAAf,aAAeA,QAAf,CACA,iBAAwCT,UAAU,CAACC,cAAD,CAAlD,CAAQS,YAAR,cAAQA,YAAR,CAAsBC,aAAtB,cAAsBA,aAAtB,CACA,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CAEA,QAASU,CAAAA,aAAT,EAAyB,CACvBJ,QAAQ,CAAC,CAAEK,IAAI,CAAE,aAAR,CAAD,CAAR,CACD,CAPqC,QASvBC,CAAAA,aATuB,iJAStC,4KAC+BV,CAAAA,aAAa,CACxCE,iBAAiB,CAACA,iBADsB,CAD5C,QACQS,cADR,eAKE;AACA,GAAIA,cAAJ,CAAoB,CAClBP,QAAQ,CAAC,CAAEK,IAAI,CAAE,aAAR,CAAD,CAAR,CACAF,QAAQ,CAAC,UAAD,CAAR,CACAD,aAAa,CAAC,CAAEG,IAAI,CAAE,OAAR,CAAD,CAAb,CACD,CAVH,sDATsC,gDAqBtC,mBACE,YAAK,SAAS,CAAC,iBAAf,uBACE,YAAK,SAAS,CAAC,qBAAf,uBACE,aAAK,SAAS,CAAC,gBAAf,wBACE,UAAG,SAAS,CAAC,gBAAb,8BADF,cAEE,UAAG,SAAS,CAAC,iBAAb,gEAA+EP,iBAAiB,CAACA,iBAAjG,qCAFF,cAGE,aAAK,SAAS,CAAC,kBAAf,wBACE,KAAC,WAAD,EACE,OAAO,CAAEM,aADX,CAEE,OAAO,CAAE,4BAFX,oBADF,cAOE,KAAC,WAAD,EACE,OAAO,CAAEE,aADX,CAEE,OAAO,CAAE,iCAFX,oBAPF,GAHF,GADF,EADF,EADF,CAwBD,CAED,cAAeT,CAAAA,WAAf","sourcesContent":["import React, { useContext } from \"react\";\nimport { invoiceContext } from \"../../../store/invoiceStore\";\nimport { userContext } from \"../../../store/userStore\";\nimport { useNavigate } from \"react-router\";\nimport LoginButton from \"../LoginButton\";\nimport invoiceDelete from \"../../../api/deleteInvoice\";\nimport \"./DeleteModal.css\";\n\nfunction DeleteModal(selectedInvoiceID) {\n  const { state, dispatch } = useContext(userContext);\n  const { invoiceState, updateInvoice } = useContext(invoiceContext);\n  const navigate = useNavigate();\n\n  function cancelHandler() {\n    dispatch({ type: \"CLOSE_MODAL\" });\n  }\n\n  async function deleteHandler() {\n    const deletedInvoice = await invoiceDelete(\n      selectedInvoiceID.selectedInvoiceID\n    );\n\n    //Modal closed and user redirected to their profile once api call is finished\n    if (deletedInvoice) {\n      dispatch({ type: \"CLOSE_MODAL\" });\n      navigate(\"/profile\");\n      updateInvoice({ type: \"RESET\" });\n    }\n  }\n  return (\n    <div className=\"invoice-overlay\">\n      <div className=\"delete-invoice-card\">\n        <div className=\"delete-content\">\n          <p className=\"confirm-header\">Confirm Deletion</p>\n          <p className=\"confirm-message\">{`Are you sure you want to delete invoice #IOU${selectedInvoiceID.selectedInvoiceID}? This action cannot be undone.`}</p>\n          <div className=\"button-container\">\n            <LoginButton\n              onClick={cancelHandler}\n              classes={\"invoice-footer-btn discard\"}\n            >\n              Cancel\n            </LoginButton>\n            <LoginButton\n              onClick={deleteHandler}\n              classes={\"invoice-footer-btn draft delete\"}\n            >\n              Delete\n            </LoginButton>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DeleteModal;\n"]},"metadata":{},"sourceType":"module"}