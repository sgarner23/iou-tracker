{"ast":null,"code":"import _regeneratorRuntime from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/therealstephen/personal-projects/iou-tracker-client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from\"axios\";function getUserInfoOnLogin(_x,_x2){return _getUserInfoOnLogin.apply(this,arguments);}function _getUserInfoOnLogin(){_getUserInfoOnLogin=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(email,password){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"\".concat(process.env.REACT_APP_BACKEND_URL,\"/login\"),{email:email,password:password});case 3:res=_context.sent;//placing accessToken and userData in session storage for future api calls due to protected endpoints\nsessionStorage.setItem(\"accessToken\",res.data.accessToken);sessionStorage.setItem(\"userData\",JSON.stringify(res.data.user));return _context.abrupt(\"return\",res.data.user);case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(_context.t0);return _context.abrupt(\"return\");case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return _getUserInfoOnLogin.apply(this,arguments);}export default getUserInfoOnLogin;","map":{"version":3,"sources":["/Users/therealstephen/personal-projects/iou-tracker-client/src/api/getUser.js"],"names":["axios","getUserInfoOnLogin","email","password","post","process","env","REACT_APP_BACKEND_URL","res","sessionStorage","setItem","data","accessToken","JSON","stringify","user","console","log"],"mappings":"uRAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,C,QAEeC,CAAAA,kB,sKAAf,iBAAkCC,KAAlC,CAAyCC,QAAzC,gKAEsBH,CAAAA,KAAK,CAACI,IAAN,WAAcC,OAAO,CAACC,GAAR,CAAYC,qBAA1B,WAAyD,CACzEL,KAAK,CAALA,KADyE,CAEzEC,QAAQ,CAARA,QAFyE,CAAzD,CAFtB,QAEUK,GAFV,eAOI;AACAC,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAsCF,GAAG,CAACG,IAAJ,CAASC,WAA/C,EACAH,cAAc,CAACC,OAAf,CAAuB,UAAvB,CAAmCG,IAAI,CAACC,SAAL,CAAeN,GAAG,CAACG,IAAJ,CAASI,IAAxB,CAAnC,EATJ,gCAWWP,GAAG,CAACG,IAAJ,CAASI,IAXpB,0DAaIC,OAAO,CAACC,GAAR,cAbJ,qG,qDAkBA,cAAehB,CAAAA,kBAAf","sourcesContent":["import axios from \"axios\";\n\nasync function getUserInfoOnLogin(email, password) {\n  try {\n    const res = await axios.post(`${process.env.REACT_APP_BACKEND_URL}/login`, {\n      email,\n      password,\n    });\n\n    //placing accessToken and userData in session storage for future api calls due to protected endpoints\n    sessionStorage.setItem(\"accessToken\", res.data.accessToken);\n    sessionStorage.setItem(\"userData\", JSON.stringify(res.data.user));\n\n    return res.data.user;\n  } catch (error) {\n    console.log(error);\n    return;\n  }\n}\n\nexport default getUserInfoOnLogin;\n"]},"metadata":{},"sourceType":"module"}